"0","server <- function(input, output) {"
"0","  log <- log4r::logger()"
"0","  log4r::info(log, ""App Started"")"
"0","  # Input params"
"0","  vals <- reactive("
"0","    list("
"0","      bill_length_mm = input$bill_length,"
"0","      species_Chinstrap = input$species == ""Chinstrap"","
"0","      species_Gentoo = input$species == ""Gentoo"","
"0","      sex_male = input$sex == ""Male"""
"0","    )"
"0","  )"
"0",""
"0","  # Fetch prediction from API"
"0","  pred <- eventReactive("
"0","    input$predict,"
"0","    {"
"0","      log4r::info(log, ""Prediction Requested"")"
"0","      r <- httr2::request(api_url) |>"
"0","        httr2::req_body_json(list(vals())) |>"
"0","        httr2::req_perform()"
"0","      log4r::info(log, ""Prediction Returned"")"
"0",""
"0","      if (httr2::resp_is_error(r)) {"
"0","        log4r::error(log, paste(""HTTP Error""))"
"0","      }"
"0",""
"0","      httr2::resp_body_json(r)"
"0","    },"
"0","    ignoreInit = TRUE"
"0","  )"
"0",""
"0","  # Render to UI"
"0","  output$pred <- renderText(pred()$predict[[1]])"
"0","  output$vals <- renderPrint(vals())"
"0","}"
